Modified to act as a library, [source](https://github.com/quanla/classreloading)